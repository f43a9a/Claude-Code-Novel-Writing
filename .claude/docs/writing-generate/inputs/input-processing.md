---
authority_level: "入力処理統合指針"
target_audience: ["AI"]
maintainer: "プロジェクトリード"
last_updated: "2025-07-01"
dependencies:
  - "[[writing-generate]]"
  - "[[format]]"
tags: ["writing-generate", "input-processing", "dialogue", "natural-language"]
---

# writing-generate 入力処理と対話指針

## 📋 このファイルの役割
`/writing-generate` コマンドでの自然言語入力処理と対話による執筆方針決定の統合指針を提供します。

## 🎯 基本方針

### AI自然理解重視
- **複雑な解析は行わない**: 自然言語パーサーや意図解析は不使用
- **文脈全体の理解**: 人間の編集者のような直感的な判断
- **柔軟な対話**: 固定的な質問リストに縛られない自然な会話
- **創造的補完**: 「お任せ」部分でAIの創造性を発揮

### 出力から逆算したアプローチ
最終的に判断すべき主要要素：
- **執筆範囲**: 全体・章・シーン等の執筆対象範囲
- **文体選択**: 軽快・文学的・詩的等の表現スタイル
- **重点要素**: キャラクター・世界観・構造等の重視ポイント
- **進行方式**: 一括執筆・段階的執筆・対話型調整

## 🔄 処理フロー

### 1. 自然言語入力の理解
ユーザーの入力から明確に含まれる情報を把握：
- 執筆範囲（「全体」「第2章」「クライマックス」等）
- 文体要望（「軽快に」「詩的に」「読みやすく」等）
- 重点要素（「キャラ重視」「感情を大切に」等）
- 進行方式の希望

### 2. 情報充足度の判定
主要判定要素に必要な情報の不足を特定：
- 明確に判断できる要素は執筆設計に進む
- 不足している要素は対話で補完
- 完全に不明な要素は「お任せ」として処理

### 3. 対話による補完
不足情報について自然な質問で確認：

**効果的な対話の例**:
```
情報不足: 執筆範囲不明
質問例: 「全体を一気に執筆しますか？それとも章ごとに分けて進めますか？」

情報不足: 文体方針不明  
質問例: 「プロット設定から、読者層はyoung_adultですね。軽快で読みやすい文体と、より文学的な文体、どちらがお好みですか？」
```

### 4. AI分析の実行
収集した全情報を創作理論と組み合わせて総合判断

## 💬 対話の基本姿勢

### 経験豊富な編集者として
- 創作者の表現意図を引き出す質問
- 創作者の意図を汲み取る理解
- 読者体験も考慮したアドバイス
- 柔軟で創造的な提案

### 自然な会話の重視
- 文脈に応じた適切な質問
- ユーザーの回答に基づく柔軟な調整
- 「お任せ」を歓迎する姿勢
- 押し付けがましくない提案

## 🎨 情報収集のポイント

### 直接聞くより引き出す
- ❌ 「文体を指定してください」
- ⭕ 「プロット設定から判断すると、軽快な文体と文学的な文体、どちらが作品に合いそうだと思いますか？」

### 具体例で理解を助ける
- ❌ 「執筆方針を決めてください」
- ⭕ 「例えば、全体を一気に書いて後で調整するか、章ごとに確認しながら進めるか、どちらが良いでしょうか？」

### 創造的な提案も含める
- ❌ 「何かご要望はありますか？」
- ⭕ 「このプロットなら、キャラクターの内面描写を重視した文体が魅力的になりそうですが、いかがですか？」

## ⚡ 対話の終了判断

### 十分な情報が集まった時
- 主要な執筆方針要素が揃った
- ユーザーが「これでお願いします」と意思表示
- これ以上聞いても負担になりそう

### 情報不足でも進める時
- ユーザーが「お任せで」と委任
- 基本的な執筆意図は明確
- AIの創造性で補完可能

## 🎭 特殊な対話パターン

### 迷っているユーザーへの支援
```
User: 「文体で迷ってます」
AI: 「プロット設定を見ると、主人公が17歳でファンタジー世界が舞台ですね。
     young_adult読者向けなので、親しみやすい軽快な文体がぴったりだと思います。
     でも、魔法世界の幻想的な美しさを表現するなら、少し詩的な表現も魅力的です。
     どちらの方向が、あなたの書きたい雰囲気に近いでしょうか？」
```

### 高い委任度のユーザーへの対応
```
User: 「全部お任せで」
AI: 「承知しました。プロット設定から最適な文体と構成で執筆します。
     ISFP思考パターンで感情重視のファンタジーなので、
     美的で感情豊かな表現を重視した執筆にしますね。」
```

### 具体的要望のあるユーザーへの対応
```
User: 「第2章だけ、もっと詩的な感じで書き直したい」
AI: 「第2章を詩的な文体で再執筆しますね。
     現在の第2章の内容を確認して、より美的で象徴的な表現に調整します。
     特に重視したい要素（風景描写、心理描写、対話等）はありますか？」
```

## 🔧 エラーハンドリング

### 理解困難な入力
- 3回まで再質問
- それでも不明な場合は「お任せ」として処理
- ユーザーの負担を最小化

### 処理不能な入力
- 空文字・意味不明な文字列 → エラーメッセージと入力例提示
- 関係のない内容 → 適切な入力への誘導
- 攻撃的・不適切な内容 → 丁寧な修正依頼

### プロットファイル不足
- 必要ファイルの不足を明確に説明
- 先行段階のコマンド実行を提案
- 部分的な情報でも執筆可能な場合はその旨説明

---

**実装方針**: AIの自然な対話能力を最大限活用し、ユーザーフレンドリーな情報収集で最適な執筆方針を決定する